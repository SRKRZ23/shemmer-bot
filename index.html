<!DOCTYPE html>
<html>
<head>
    <title>Shemmer Bot</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div style="text-align: center; margin-bottom: 20px;">
        <label for="lang">Выберите язык: </label>
        <select id="lang" onchange="updateLanguage()">
            <option value="ru">Русский</option>
            <option value="en">English</option>
        </select>
    </div>
    <h1 id="welcome">Добро пожаловать в Shemmer Bot</h1>
    <h2 id="city">Город: Ташкент</h2>
    <div class="filter">
        <label for="category" id="filter-label">Фильтр по категории: </label>
        <select id="category" onchange="filterPlaces()">
            <option value="all">Все</option>
        </select>
    </div>
    <ul id="places-list"></ul>

    <script>
        const translations = {
            ru: {
                tashkent: "Ташкент",
                hours: "Часы работы",
                services: "Услуги",
                prices: "Цены",
                category: "Категория",
                filterByCategory: "Фильтр по категории",
                all: "Все",
                welcome: "Добро пожаловать в Shemmer Bot",
                selectLanguage: "Выберите язык"
            },
            en: {
                tashkent: "Tashkent",
                hours: "Hours",
                services: "Services",
                prices: "Prices",
                category: "Category",
                filterByCategory: "Filter by Category",
                all: "All",
                welcome: "Welcome to Shemmer Bot",
                selectLanguage: "Select Language"
            }
        };

        let currentLang = localStorage.getItem('lang') || 'ru';
        const placesData = ${JSON.stringify(JSON.parse(fs.readFileSync('places.json', 'utf8')).tashkent)};
        const categories = [...new Set(placesData.map(place => place.category))];

        function updateLanguage() {
            currentLang = document.getElementById('lang').value;
            localStorage.setItem('lang', currentLang);
            document.getElementById('welcome').innerText = translations[currentLang].welcome;
            document.getElementById('city').innerText = translations[currentLang].tashkent;
            document.getElementById('filter-label').innerText = translations[currentLang].filterByCategory + ': ';
            const categorySelect = document.getElementById('category');
            categorySelect.innerHTML = '<option value="all">' + translations[currentLang].all + '</option>' +
                categories.map(category => `<option value="${category}">${category}</option>`).join('');
            renderPlaces();
        }

        function renderPlaces() {
            const placesList = document.getElementById('places-list');
            placesList.innerHTML = placesData.map((place, index) => `
                <li data-category="${place.category}" data-index="${index}">
                    <div class="place-name">${place.name}</div>
                    ${translations[currentLang].hours}: ${place.hours}<br>
                    ${translations[currentLang].services}: ${place.services.join(', ')}<br>
                    ${translations[currentLang].prices}: ${place.prices.join(', ')}<br>
                    ${translations[currentLang].category}: ${place.category}
                </li>
            `).join('');
            filterPlaces();
        }

        function filterPlaces() {
            const category = document.getElementById('category').value;
            const places = document.querySelectorAll('#places-list li');
            places.forEach(place => {
                if (category === 'all' || place.getAttribute('data-category') === category) {
                    place.style.display = 'block';
                } else {
                    place.style.display = 'none';
                }
            });
        }

        document.getElementById('lang').value = currentLang;
        updateLanguage();
    </script>
</body>
</html>

